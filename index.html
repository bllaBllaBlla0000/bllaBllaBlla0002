<!doctype html>
<html lang="sq">
<head>
  /*hi*/
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz - HTML/CSS/JS</title>
  <style>
    :root{
      font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color-scheme: light dark; /* lejon dark/light auto */
    }

    /* --- LIGHT MODE (default) --- */
    body{
      margin:0;
      font-size:17px;
      background:#ffffff;
      color:#000000;
    }
    .container{max-width:1200px;margin:36px auto;padding:28px;}
    header{display:flex;align-items:center;justify-content:space-between;gap:18px;margin-bottom:18px}
    h1{font-size:24px;margin:0}
    .small{font-size:14px;}

    .layout{display:grid;grid-template-columns:320px 1fr;gap:26px}
    .sidebar{padding-right:14px}

    .qbtn{display:block;width:100%;text-align:left;padding:12px;border-radius:10px;border:1px solid #ccc;background:#f3f3f3;margin-bottom:10px;cursor:pointer;font-size:17px;color:#000}
    .qbtn.active{background:#e2e2e2}

    .card{padding:18px;border:1px solid #ccc;border-radius:12px;background:#ffffff;color:#000}
    .question{font-weight:600;margin-bottom:14px;font-size:20px}

    .options{display:flex;flex-direction:column;gap:12px}
    label.option{display:flex;align-items:center;gap:14px;padding:12px;border-radius:10px;border:1px solid #ccc;cursor:pointer;background:#fafafa;font-size:17px;color:#000}
    label.option:hover{background:#f0f0f0}
    label.option input{transform:scale(1.25)}

    .controls{display:flex;gap:12px;align-items:center;margin-top:18px}
    button{padding:10px 16px;border-radius:8px;border:1px solid #aaa;cursor:pointer;font-size:17px;background:#eaeaea;color:#000}
    .status{margin-left:auto;font-size:14px;}

    .hint{margin-top:10px;font-size:14px;color:#b33}


    /* --- DARK MODE AUTOMATIC (system preferred) --- */
    @media (prefers-color-scheme: dark){
      body{background:#0d0f11;color:#ddd}

      .qbtn{background:#1b1d20;border-color:#333;color:#ddd}
      .qbtn.active{background:#2a2d31}

      .card{background:#1a1d21;border-color:#333;color:#ddd}

      label.option{background:#1a1d21;border-color:#444;color:#ddd}
      label.option:hover{background:#24272c}

      button{background:#2a2d31;border-color:#555;color:#ddd}
    }


    /* --- RESPONSIVE --- */
    @media (max-width:720px){
      .layout{grid-template-columns:1fr;}
      #questionList{display:flex;gap:8px;overflow:auto;padding-bottom:6px}
      .controls{flex-direction:column;align-items:stretch}
      button{width:100%}
      .controls button + button{margin-top:8px}
    }
  </style>
</head>
<body>
  <!-- JS remains unchanged, paste your script here -->
  <div class="container">
    <header>
      <h1>Quiz (HTML/CSS/JS) — Zgjidh pyetjet</h1>
      <div class="small">Në çdo pyetje: zgjidh të gjitha opsionet e sakta.</div>
    </header>
    <div class="layout">
      <aside class="sidebar card">
        <div style="font-weight:600;margin-bottom:8px;color:var(--text)">Pyetjet</div>
        <div id="questionList"></div>
        <div class="small">Progres: <span id="progress">0/0</span></div>
      </aside>

      <main class="card">
        <div id="quizArea">
          <div class="question" id="questionText">Zgjidh një pyetje nga lista majtas.</div>
          <div class="options" id="options"></div>

          <div class="controls">
            <button id="prevBtn" class="btn-muted">Prev</button>
            <button id="nextBtn" class="btn-primary">Next</button>
            <button id="showBtn" class="btn-muted">Show answers</button>
            <div class="status" id="statusText">Not answered</div>
          </div>

          <div class="hint" id="hint"></div>
        </div>
      </main>
    </div>
  </div>

    <script>
        // --- QUESTIONS: you can replace/extend this array ---
        
        const questions = [
  // ==================== MULTIPLE CHOICE ====================
  {
    question: "Metoda për të marrë një çelës me vlerë në Trie është:",
    options: [
      "Node get(Node x, String key, Value val, int d);",
      "Node get(String key, int value);",
      "Node get(int id, String key, Value val);",
      "Node get(Node x, String key, int d);"
    ],
    correct: [3]
  },
  {
    question: "Për autocomplete preferohet të përdoret:",
    options: ["Brute Force", "R-Way Tries", "Rabin-Karp", "NFA"],
    correct: [1]
  },
  {
    question: "Për Bellman-Ford duhet të mos ketë:",
    options: ["Cikël negativ", "Pesha negative", "Relaksim", "Një kalim"],
    correct: [0]
  },
  {
    question: "Algoritmet për Substring Search janë:",
    options: ["Boyer-Moore", "Brute Force", "Key Logger", "Rabin-Karp"],
    correct: [0, 1]
  },
  {
    question: "Kompleksiteti kohor i LSD varet nga:",
    options: ["Radix", "Gjatësia e stringut", "Prefix i përbashkët", "Pattern"],
    correct: [0, 1]
  },
  {
    question: "Anomali në undirected graph janë:",
    options: ["DFS", "Self-loop", "Parallel-edges", "Connected Components"],
    correct: [1, 2]
  },
  {
    question: "Metodat kryesore për Binary Standard Output janë:",
    options: [
      "void write(boolean b)",
      "void write(char c)",
      "void write(char c, int r)",
      "void write(Node x, String key, Value val, int d)"
    ],
    correct: [0, 1]
  },
  {
    question: "Grafi mund të paraqitet me:",
    options: ["Matrices", "Adjacency Lists", "Heap", "List of edges"],
    correct: [0, 1, 3]
  },
  {
    question: "Operacionet kryesore te string janë:",
    options: ["Index", "Concatenation", "Wildcard", "Length"],
    correct: [0, 1, 2, 3]
  },
  {
    question: "Algoritme për MST janë:",
    options: ["Greedy", "Topological Order", "Kosaraju-Sharir", "Prim"],
    correct: [0, 3]
  },
  {
    question: "Data compression bëhet për shkak të:",
    options: ["Kursen kohën, "Decoding", "Encoding", "Redundancy"],
    correct: [0, 3]
  },
  {
    question: "Operacionet në Regex janë:",
    options: ["*", "{k}", "Substring class", "Capital class", "+"],
    correct: [0, 1, 4]
  },
  {
    question: "Për fingerprint preferohet:",
    options: ["Boyer-Moore", "DFA", "NFA", "Rabin-Karp"],
    correct: [1]
  },
  {
    question: "Teknika për multi-pattern search:",
    options: ["Regex", "Boyer-Moore", "Rabin-Karp", "LZW"],
    correct: [0, 1, 2]
  },
  {
    question: "Metoda që kthen rrugën më të shkurtër nga burimi:",
    options: [
      "distTo(v)",
      "pathTo(v)",
      "distTo(v,w)",
      "Iterable<DirectedEdge> pathTo(v)"
    ],
    correct: [1, 3]
  },
  {
    question: "Ngjashmëri mes Huffman dhe LZW:",
    options: ["Trie", "Dekodim i menjëhershëm", "Real-time", "Adaptive"],
    correct: [3]
  },
  {
    question: "Metoda që kthen peshën totale të MST-së:",
    options: ["weight()", "edges()", "check()", "weight(G)"],
    correct: [0]
  },
  {
    question: "SPT me Bellman-Ford paraqitet me:",
    options: ["distTo[] + edgeTo[]", "pathTo[]", "weight[]", "addEdge()"],
    correct: [0]
  },

  // ==================== TRUE / FALSE (në format multiple choice) ====================
  {
    question: "Rruga është sekuencë kulmesh të lidhura me segmente.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Një spanning tree duhet të jetë ciklik.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "Las Vegas Rabin-Karp ndalon kur gjen false collision.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Cikli Eulerian përshkon çdo brinje saktësisht një herë.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "ε-transicionet në NFA ruhen në digraph.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Dijkstra worst-case është E log V (me binary heap).",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Ford-Fulkerson lejon kapacitete negative.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "Min-cut = Max-flow gjithmonë.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Topological sort nuk ekziston nëse ka cikël.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Brute Force substring search mund të mos gjejë të gjitha rezultatet.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "Longest Path përdoret në GPS për navigim.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "Key-Indexed Counting është linear në R + N.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "LSD shpenzon më shumë memori se MSD.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "NFA për Regex përdor Queue për ε-transitions.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "Kompleksiteti i Dijkstra-s është linear.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "Wildcard '.' mund të jetë bosh ose çdo karakter.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Një graf mund të ketë më shumë se një topological sort.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Implementimi i DFS bëhet me Queue.",
    options: ["True", "False"],
    correct: [1]
  },
  {
    question: "Në DFS dhe BFS çdo kulm vizitohet vetëm një herë.",
    options: ["True", "False"],
    correct: [0]
  },
  {
    question: "Kruskal dhe Prim janë algoritme Greedy.",
    options: ["True", "False"],
    correct: [0]
  }
];

console.log("Totali: " + questions.length + " pyetje gati për provim!");

        // ---------------------------------------------------

        // State
        let current = 0;
        const answered = new Array(questions.length).fill(false); // true if user satisfied (selected correct or used show)
        const shown = new Array(questions.length).fill(false); // if user used show answers

        // DOM refs
        const qList = document.getElementById('questionList');
        const questionText = document.getElementById('questionText');
        const optionsDiv = document.getElementById('options');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const showBtn = document.getElementById('showBtn');
        const statusText = document.getElementById('statusText');
        const hint = document.getElementById('hint');
        const progress = document.getElementById('progress');

        function renderQuestionList() {
            qList.innerHTML = '';
            questions.forEach((q, i) => {
                const btn = document.createElement('button');
                btn.className = 'qbtn' + (i === current ? ' active' : '');
                btn.textContent = `#${i + 1} ${answered[i] ? '(done)' : ''}`;
                btn.addEventListener('click', () => { selectQuestion(i); });
                qList.appendChild(btn);
            });
            updateProgress();
        }

        function updateProgress() {
            const done = answered.filter(Boolean).length;
            progress.textContent = `${done}/${questions.length}`;
        }

        function selectQuestion(index) {
            current = index;
            renderQuestionList();
            showQuestion();
        }

        function showQuestion() {
            const q = questions[current];
            questionText.textContent = `(${current + 1}) ` + q.question;
            optionsDiv.innerHTML = '';
            hint.textContent = '';

            // Create checkbox/radio depending on whether multiple correct answers
            const multiple = q.correct.length > 1;

            q.options.forEach((opt, idx) => {
                const id = `opt-${current}-${idx}`;
                const label = document.createElement('label');
                label.className = 'option';
                label.setAttribute('data-idx', idx);

                const input = document.createElement('input');
                input.type = multiple ? 'checkbox' : 'radio';
                input.name = 'opt-' + current;
                input.value = idx;
                input.id = id;
                input.addEventListener('change', onAnswerChange);

                const span = document.createElement('span');
                span.textContent = opt;

                label.appendChild(input);
                label.appendChild(span);
                optionsDiv.appendChild(label);
            });

            // If previously used Show, reveal
            if (shown[current]) revealAnswers();

            updateNavigationState();
        }

        function getSelectedIndices() {
            const inputs = optionsDiv.querySelectorAll('input');
            const sel = [];
            inputs.forEach(i => { if (i.checked) sel.push(Number(i.value)); });
            sel.sort((a, b) => a - b);
            return sel;
        }

        function arraysEqual(a, b) {
            if (a.length !== b.length) return false;
            for (let i = 0; i < a.length; i++) if (a[i] !== b[i]) return false;
            return true;
        }

        function onAnswerChange() {
            const q = questions[current];
            const sel = getSelectedIndices();

            // No auto‑show answers, no marking as correct/incorrect visually
            if (arraysEqual(sel, q.correct.slice().sort((a, b) => a - b))) {
                statusText.textContent = 'Saktë — mund të kalosh.';
                statusText.style.color = '#0a7f35';
                answered[current] = true;
            } else {
                statusText.textContent = 'Gabim — provo prap.';
                statusText.style.color = '#b33';
                answered[current] = false;
            }
            updateProgress();
            updateNavigationState();
        }

        function revealAnswers() {
            const q = questions[current];
            const inputs = optionsDiv.querySelectorAll('input');
            inputs.forEach(i => {
                const idx = Number(i.value);
                i.checked = q.correct.includes(idx);
            });
            shown[current] = true;
            answered[current] = true;
            statusText.textContent = 'Përgjigjet u shfaqën. Mund të kalosh.';
            statusText.style.color = '#0a7f35';
            updateProgress();
            updateNavigationState();
        }
        /*(){
              const q = questions[current];
              const inputs = optionsDiv.querySelectorAll('input');
              inputs.forEach(i=>{
                const idx = Number(i.value);
                i.checked = q.correct.includes(idx);
              });
              shown[current] = true;
              answered[current] = true; // allow progress
              statusText.textContent = 'Përgjigjet u shfaqën. Mund të kalosh.';
              statusText.style.color = '#0a7f35';
              updateProgress();
              markOptionsCorrectness();
              updateNavigationState();
            }*/

        function updateNavigationState() {
            prevBtn.disabled = current === 0 ? true : false;
            // Next disabled unless this question is answered
            nextBtn.disabled = !answered[current];
        }

        prevBtn.addEventListener('click', () => {
            if (current > 0) selectQuestion(current - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (!answered[current]) {
                hint.textContent = 'Duhet të zgjedhësh përgjigjet e sakta ose të përdorësh "Show answers".';
                return;
            }
            if (current < questions.length - 1) selectQuestion(current + 1);
            else alert('Mbarove pyetjet. Progres: ' + answered.filter(Boolean).length + '/' + questions.length);
        });

        showBtn.addEventListener('click', () => {
            if (confirm('Tregon përgjigjet e sakta për këtë pyetje? (Do të lejojë të kalosh)')) {
                revealAnswers();
            }
        });

        // Init
        renderQuestionList();
        selectQuestion(0);

    </script>

</body>


</html>


